<div *ngIf="state !== 'hidden'" class="intro-screen">
  <!-- Loading state -->
  <div *ngIf="loading" class="loading-state">
    <div class="loading-spinner"></div>
    <p>Loading level...</p>
  </div>

  <!-- Error state -->
  <div *ngIf="error && !loading" class="error-state">
    <div class="error-content">
      <div class="error-icon" [class]="getErrorIconClass()">
        {{ getErrorIcon() }}
      </div>
      <h3 class="error-title">{{ getErrorTitle() }}</h3>
      <p class="error-message">{{ getErrorMessage() }}</p>

      <div class="error-actions">
        <button *ngIf="error !== 'locked'" class="retry-button" (click)="loadLevelIntro()">
          {{ 'intro.retry' | translate }}
        </button>

        <button class="back-button" (click)="goBackToLevels()">
          {{ 'intro.backToLevels' | translate }}
        </button>
      </div>
    </div>
  </div>

  <!-- Main content -->
  <div *ngIf="!loading && !error">
    <div *ngIf="buttonVisible" class="phrase">{{ phrase }}</div>

    <!-- Replay cooldown info -->
    <div *ngIf="replayCooldown" class="cooldown-info">
      <p>Replay available in: {{ replayCooldown }}</p>
    </div>

    <div class="train-container">
      <img
        [src]="animationImageUrl"
        alt="Zug"
        class="train"
        [class.animate]="state === 'move'"
        (animationend)="onDeparted()"
        tabindex="-1"
      />
    </div>

    <button *ngIf="buttonVisible" class="start-btn" (click)="startLevel()" tabindex="-1">
      Розпочати
    </button>
  </div>
</div>
