<!-- toolbar -->
<div class="mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
  <div>
    <h1 class="text-2xl font-semibold tracking-tight">Sections</h1>
    <p class="text-sm text-gray-500">Manage categories shown to users.</p>
  </div>
  <div class="flex gap-2">
    <input
      [formControl]="search"
      type="search"
      placeholder="Search sections‚Ä¶"
      class="h-10 w-64 rounded-lg border border-gray-300 px-3 focus:ring-2 focus:ring-blue-500 focus:outline-none"
    />
    <button
      (click)="onAdd()"
      class="h-10 rounded-lg bg-blue-600 px-4 text-white transition hover:bg-blue-700"
    >
      Add Section
    </button>
  </div>
</div>

<!-- empty state -->
<div
  *ngIf="filtered().length === 0"
  class="rounded-xl border border-dashed border-gray-300 p-10 text-center"
>
  <div class="mx-auto mb-3 flex h-10 w-10 items-center justify-center rounded-full bg-gray-100">
    üìÅ
  </div>
  <h2 class="mb-1 font-medium">No sections found</h2>
  <p class="mb-4 text-sm text-gray-500">Create your first section to get started.</p>
  <button (click)="onAdd()" class="rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700">
    Create Section
  </button>
</div>

<!-- table -->
<div
  *ngIf="filtered().length > 0"
  class="overflow-hidden rounded-xl border border-gray-200 bg-white"
>
  <div class="overflow-x-auto">
    <table class="min-w-full text-sm">
      <thead class="bg-gray-50 text-gray-600">
        <tr>
          <th class="px-4 py-3 text-left font-medium">Section</th>
          <th class="px-4 py-3 text-left font-medium">Image</th>
          <th class="px-4 py-3 text-left font-medium">Status</th>
          <th class="px-4 py-3 text-left font-medium">Updated</th>
          <th class="px-4 py-3 text-right font-medium">Actions</th>
        </tr>
      </thead>
      <tbody>
        <!-- –í–ê–ñ–ù–û: filtered() ‚Äî –≤—ã–∑–æ–≤ –≤—ã—á–∏—Å–ª—è–µ–º–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ -->
        <tr *ngFor="let s of filtered(); trackBy: trackById" class="border-t hover:bg-gray-50">
          <td class="px-4 py-3">
            <div class="font-medium">{{ s.name }}</div>
            <div class="text-xs text-gray-500">#{{ s.id }}</div>
          </td>
          <td class="px-4 py-3">
            <div class="flex items-center gap-3">
              <img
                *ngIf="s.imagePath; else noimg"
                [src]="s.imagePath"
                alt=""
                class="h-10 w-10 rounded-md border border-gray-200 object-cover"
              />
              <ng-template #noimg>
                <div
                  class="grid h-10 w-10 place-items-center rounded-md bg-gray-100 text-xs text-gray-400"
                >
                  No
                </div>
              </ng-template>
              <span class="max-w-[160px] truncate text-xs text-gray-500">{{
                s.imagePath || '‚Äî'
              }}</span>
            </div>
          </td>
          <td class="px-4 py-3">
            <span
              class="inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-medium"
              [ngClass]="
                s.status === 1
                  ? 'bg-green-50 text-green-700 ring-1 ring-green-200 ring-inset'
                  : 'bg-gray-100 text-gray-700 ring-1 ring-gray-200 ring-inset'
              "
            >
              <span
                class="h-1.5 w-1.5 rounded-full"
                [ngClass]="s.status === 1 ? 'bg-green-500' : 'bg-gray-500'"
              ></span>
              {{ s.status === 1 ? 'Published' : 'Draft' }}
            </span>
          </td>
          <td class="px-4 py-3 text-gray-600">
            {{ s.updatedAt | date: 'mediumDate' }}
          </td>
          <td class="px-4 py-3">
            <div class="flex justify-end gap-2">
              <button
                (click)="onEdit(s.id)"
                class="rounded-lg bg-amber-500 px-3 py-1.5 text-white hover:bg-amber-600"
              >
                Edit
              </button>
              <button
                (click)="onDelete(s.id)"
                class="rounded-lg bg-red-600 px-3 py-1.5 text-white hover:bg-red-700"
              >
                Delete
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
